# 软件路径截取软件名，文件类型，路径

有的情形下，需要用户选择对应文件，然后提取文件路径，或文件类型，或软件名字

```C++
QString fileName = QFileDialog::getOpenFileName(this,str,".",tr("*.exe"));
<<"E:/Code/QTool.exe"
```

获取软件名字：

```C++
auto appName = fileName.section(QRegExp("[/]"),-1);
<< "QTool.exe"
```

获取文件路径：

1. 

```c++
auto filePath = fileName.left(fileName.lastIndexOf("/"));
<< "E:/Code"
```

2. 

```cpp
QStringList list = fileName.split("/");
<< "E:"
   "Code"
   "QTool.exe"
// 然后就可以通过追加的方式拼接文件路径
QString file;
for(int i=0; i<list.size()-1; i++){
    file.append(list[i]);
    file.append("/");
}
<< "E:/Code/"
```

获取文件类型（后缀名）：

```c++
auto appSuffix = fileName.section(QRegExp("[/.]"),-1);
<< "exe"
```

最简单的办法，采用[QFileInfo](Qt.md#QFileInfo)类获取对应的信息