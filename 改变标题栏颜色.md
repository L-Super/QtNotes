在 Windows 系统上，可以采用以下 api 改变窗口标题栏颜色为暗色或者亮色：
```cpp
using DwmSetWindowAttributeFunc = HRESULT(WINAPI *)(HWND hwnd, DWORD dwAttribute, LPCVOID pvAttribute, DWORD cbAttribute);  
static DwmSetWindowAttributeFunc pDwmSetWindowAttribute = nullptr;  
HMODULE module = LoadLibraryW(L"dwmapi.dll");  
if (module) {  
  if (!pDwmSetWindowAttribute) {  
    pDwmSetWindowAttribute = reinterpret_cast<DwmSetWindowAttributeFunc>(  
        GetProcAddress(module, "DwmSetWindowAttribute"));  
  }  
}  
bool isDark=true;  

// DWMWINDOWATTRIBUTE::DWMWA_USE_IMMERSIVE_DARK_MODE
pDwmSetWindowAttribute(HWND(this->window()->winId()), 20, &isDark, sizeof(BOOL));
```

```cpp
#include <dwmapi.h>
// 允许启用深色模式系统设置时，以深色模式颜色绘制此窗口的窗口框架。
DWMWINDOWATTRIBUTE::DWMWA_USE_IMMERSIVE_DARK_MODE
```

 Windows 11 内部版本 22000 开始受支持。

> [DwmSetWindowAttribute 函数 （dwmapi.h） - Win32 apps | Microsoft Learn](https://learn.microsoft.com/zh-cn/windows/win32/api/dwmapi/nf-dwmapi-dwmsetwindowattribute)